---
title: Settlement Engine. Подготовка файла
---

## Settlement Engine

# Подготовка файла 

## Факты о событиях в матче

Для расчета маркетов *Settlement Engine* использует журнал *событий* которые происходят по ходу матча. 

Пример "фактов" о событиях: 

* *Гол* забит *Командой 1* в *Первой половине* матча на *34й минуте*.
* *Гол* забит *Командой 2* во *Второй половине* матча на *46й минуте*.

Такое представление событий в журнале и стандартные функции Excel дают возможность накопить результат для расчета исходов любой сложности.

Перед началом работы с SEngine необходимо описать *Типы Событий* во вкладке *EventType* 

## Подготовка вкладки "EventType"

Вкладка должна содержать таблицу из 3х колонок:

* EventType - Название События
* Attribute - Название Факта
* Value     - Возможное значение Факта

### Пример вкладки "EventType"

![EventType](/images/event-type-sengine.png)

## Подготовка вкладки "EventLog"

Первая строка этой вкладки должна содержать только уникальные значения из столбца *Attribute* вкладки *EventType*

Эту вкладку можно использовать для тестирования расчетов Ваших исходов, наполняя событиями, эмулируя, таким образом, любые игровые ситуации. 

После загрузки файла в *SEngine*, эта вкладка будет автоматически очищена.

![EventLog](/images/event-log-sengine.png)

## Подготовка вкладки "MarketTemplates"

Данная вкладка необходима для настройки валидации поступающих сообщений для "EventLog".

Первая колонка должна содержать значения из колонки *Market_type_name* из вкладки *OUT*. Остальные колонки заполняются названиями *EventType* из вкладки *EventType*. 

Значения ячеек на пересечении - это те *Attributes*, которые необходимы для расчета данного шаблона маркета.
 
*Пример вкладки "MarketTemplates"*

![EventLog](/images/market-templates-sengine.png)

## Подготовка вкладки "OUT"

Данная вкладка содержит результат расчета исходов. Может быть заполнена в произвольном порядке. Обязательным является наличие колонки "Market_type_name"

*Пример вкладки "OUT"*

![EventLog](/images/out-sengine.png)

## Следующие шаги

Теперь Вы можете приступать к генерации сервисов с помощью [BetEngines Administration Interface](/ru/doc/user-guide/).

<div class="well well-sm">
<b>Важно!</b> Все используемые ячейки во вкладках ""  должны содержать значение. Не используемые ячейки должны быть очищены. Для очистки ячеек выберите Вкладка Главная -> Секция Редактирование -> Очистить -> Очистить Все (Alt+Я+8+Ч).
</div>
